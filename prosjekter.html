<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prosjekter ‚Äì Chris Mulunda Mpinda</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #222;
            --bg-color: #f4f7f6;
            --text-color: #333;
            --card-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            /* M√∏rkt tema for kode */
            --code-bg: #2d2d2d;
            --code-text: #f8f8f2;
            --code-border: #444;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            text-align: center;
            padding: 3rem 1rem;
            background: linear-gradient(135deg, #0056b3, #004494);
            color: white;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
            margin-bottom: 2rem;
        }

        header h1 { margin: 0; font-size: 2.5rem; font-weight: 700; }
        header p { margin-top: 0.5rem; opacity: 0.9; font-size: 1.1rem; }

        nav {
            background: var(--card-bg);
            padding: 1rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }

        nav a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        nav a:hover { color: var(--primary-color); }

        main {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        /* Main Tabs Styling */
        .tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.8rem 1.5rem;
            background: #e0e0e0;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .tab:hover { background: #d4d4d4; }

        .tab.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 10px rgba(0, 86, 179, 0.3);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active { display: block; }

        /* Sub-tabs Styling (for Code/Reflection) */
        .sub-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #eee;
        }

        .sub-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            transition: all 0.3s ease;
        }

        .sub-tab:hover { color: var(--primary-color); }

        .sub-tab.active {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
        }

        .sub-tab-content {
            display: none;
        }

        .sub-tab-content.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Card / Article Styling */
        article.section-box, section.section-box {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            border: 1px solid #eee;
        }

        h2 { color: var(--primary-color); border-bottom: 2px solid #eee; padding-bottom: 0.5rem; }
        h3 { margin-top: 0; color: #444; }

        /* Button Styling */
        .btn-download {
            display: inline-block;
            background-color: #28a745;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            transition: background 0.3s;
        }
        .btn-download:hover { background-color: #218838; }
        
        .btn-link { background-color: var(--primary-color); }
        .btn-link:hover { background-color: #004494; }

        /* Code Block Styling (Dark Mode) */
        pre {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            border: 1px solid var(--code-border);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
        }

        code { font-family: inherit; }

        footer {
            text-align: center;
            padding: 3rem 1rem;
            background: var(--secondary-color);
            color: #aaa;
            margin-top: 4rem;
        }
    </style>
</head>
<body>

    <header>
        <h1>Prosjekter</h1>
        <p>Oversikt over LEGO, LEXO arm og dataarkitektur</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Hjem</a></li>
            <li><a href="prosjekter.html">Prosjekter</a></li>
            <li><a href="programmering.html">Programmerings√∏vinger</a></li>
            <li><a href="annet.html">Annet</a></li>
        </ul>
    </nav>

    <main>
        <div class="tabs">
            <div class="tab active" data-tab="lego">LEGO EV3</div>
            <div class="tab" data-tab="lexo">LEXO Arm</div>
            <div class="tab" data-tab="data">Dataarkitektur</div>
        </div>

        <!-- LEGO TAB -->
        <div id="lego" class="tab-content active">
            <h2>LEGO Prosjekter</h2>
            <p>Her finner du kildekoden og refleksjoner til de ulike LEGO EV3-oppgavene.</p>

            <!-- Oppgave 1 -->
            <article class="section-box" id="oppgave1-container">
                <h3>Oppgave 1</h3>
                <div class="sub-tabs">
                    <div class="sub-tab active" onclick="openSubTab(event, 'oppgave1-beskrivelse')">Beskrivelse</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave1-kode')">Kode</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave1-refleksjon')">Refleksjon</div>
                </div>

                <div id="oppgave1-beskrivelse" class="sub-tab-content active">
                    <h4>Oppgavebeskrivelse</h4>
                    <p>Lag et Python-program for roboten. Programmet skal gj√∏re f√∏lgende:</p>
                    <ul>
                        <li>Ved start skal teksten ¬´Hello World¬ª vises p√• LCD-skjermen.</li>
                        <li>Deretter skal robotbilen kj√∏re i et rektangul√¶rt m√∏nster, og stoppe etter √• ha kj√∏rt √©n runde.</li>
                        <li>Til slutt skal roboten si ¬´Have a nice day¬ª f√∏r den avslutter programmet.</li>
                    </ul>
                </div>

                <div id="oppgave1-kode" class="sub-tab-content">
                    <a href="EV3Tasks/code/oppgave1.py" download class="btn-download">üì• Last ned filen</a>
                    <pre><code>
#!/usr/bin/env pybricks-micropython
from pybricks.hubs import EV3Brick
from pybricks.ev3devices import (Motor, TouchSensor, ColorSensor,
                                 InfraredSensor, UltrasonicSensor, GyroSensor)
from pybricks.parameters import Port, Stop, Direction, Button, Color
from pybricks.tools import wait, StopWatch, DataLog
from pybricks.robotics import DriveBase
from pybricks.media.ev3dev import SoundFile, ImageFile

# Initialiser EV3-brikken (hovedenheten til roboten)
ev3 = EV3Brick()

# Initialiser motorene p√• port B og C (venstre og h√∏yre hjul)
venstre_motor = Motor(Port.C)
hoyre_motor = Motor(Port.B)

# Initialiser sensorer
trykk_sensor = TouchSensor(Port.S1)  # Trykksensor for start/stopp
ultralyd_sensor = UltrasonicSensor(Port.S4)  # Ultralydsensor for hindringer

# Vis "Exercise 2" p√• LCD-skjermen
ev3.screen.print("Exercise 2")

# Vent p√• at trykksensor blir trykket for √• starte
while not trykk_sensor.pressed():
    wait(10)

# Si "Exercise 2" og start gressklipping
ev3.speaker.say("Exercise 2")
wait(1000)

# Hovedl√∏kke for gressklipping
kjoerer = True
while kjoerer:
    # Sjekk om trykksensor er trykket for √• stoppe
    if trykk_sensor.pressed():
        kjoerer = False
        break
    
    # Sjekk avstand til hindringer (under 30 cm = hindring)
    if ultralyd_sensor.distance() < 300:  # 300 mm = 30 cm
        # Stopp motorene
        venstre_motor.stop()
        hoyre_motor.stop()
        wait(500)
        
        # Rygge litt
        venstre_motor.run_angle(400, -200, Stop.BRAKE, False)
        hoyre_motor.run_angle(400, -200, Stop.BRAKE, True)
        
        # Sving til h√∏yre for √• unng√• hindringen
        venstre_motor.run_angle(400, 300, Stop.BRAKE, False)
        hoyre_motor.run_angle(400, -300, Stop.BRAKE, True)
    else:
        # Kj√∏r frem med konstant hastighet
        venstre_motor.run(200)
        hoyre_motor.run(200)
    
    wait(50)  # Kort pause f√∏r neste sjekk

# Stopp motorene
venstre_motor.stop()
hoyre_motor.stop()

# Si "Exercise done" og avslutt
ev3.speaker.say("Exercise done")
ev3.screen.print("Exercise done")
                    </code></pre>
                </div>
                <div id="oppgave1-refleksjon" class="sub-tab-content">
                    <p>Her kan du skrive din refleksjon for Oppgave 1.</p>
                    <p>Eksempel: I denne oppgaven l√¶rte jeg hvordan man bruker ultralydsensoren til √• unng√• hindringer...</p>
                </div>
            </article>

            <!-- Oppgave 2 -->
            <article class="section-box" id="oppgave2-container">
                <h3>Oppgave 2</h3>
                <div class="sub-tabs">
                    <div class="sub-tab active" onclick="openSubTab(event, 'oppgave2-beskrivelse')">Beskrivelse</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave2-kode')">Kode</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave2-refleksjon')">Refleksjon</div>
                </div>

                <div id="oppgave2-beskrivelse" class="sub-tab-content active">
                    <h4>Oppgavebeskrivelse</h4>
                    <p>Bernt - gressklipperoboten p√• NTNU‚Äã ‚Äì har ferie og trenger derfor en vikar til √• klippe plenen. Dere skal derfor lage en gressklipper-robot som kan steppe inn for Bernt. Roboten deres trenger ikke klippe noe som helst, dere trenger kun √• s√∏rge for at den kj√∏rer rundt p√• plenen p√• en fornuftig m√•te.</p>
                    <p>Programmet til roboten skal kunne startes og stoppes med √©n trykksensor. I tillegg skal dere bruke enten en trykksensor eller en ultralydsensor for √• unng√• tr√¶rne som st√•r p√• plenen.</p>
                    <p>N√•r man trykker p√• av/p√•-knappen skal roboten si ¬´Exercise 2¬ª og deretter begynne og kj√∏re. Dersom roboten m√∏ter p√• en hindring skal den svinge litt, og deretter fortsette √• kj√∏re rundt. N√•r av/p√•-knappen trykkes p√• igjen skal roboten stoppe, si ¬´Exercise done¬ª, og programmet skal avsluttes.</p>
                </div>

                <div id="oppgave2-kode" class="sub-tab-content">
                    <a href="EV3Tasks/code/oppgave2.py" download class="btn-download">üì• Last ned filen</a>
                    <pre><code>
#!/usr/bin/env pybricks-micropython
from pybricks.hubs import EV3Brick
from pybricks.ev3devices import (Motor, TouchSensor, ColorSensor,
                                 InfraredSensor, UltrasonicSensor, GyroSensor)
from pybricks.parameters import Port, Stop, Direction, Button, Color
from pybricks.tools import wait, StopWatch, DataLog
from pybricks.robotics import DriveBase
from pybricks.media.ev3dev import SoundFile, ImageFile

# Initialisering
ev3 = EV3Brick()
venstre_motor = Motor(Port.C)
hoyre_motor = Motor(Port.B)
start_stopp_sensor = TouchSensor(Port.S1)
ultralyd_sensor = UltrasonicSensor(Port.S2)

driving = False
ev3.speaker.say("Ready")    

# Hovedl√∏kke
while True:
    # Sjekk knapper
    pressed = ev3.buttons.pressed()
    
    if start_stopp_sensor.pressed(): 
        driving = not driving
        if driving == True:
            ev3.speaker.say("Exercise 2")
        else:
            venstre_motor.stop()
            hoyre_motor.stop()
            ev3.speaker.say("Exercise done")
            break
        
        wait(300)
    
    # Kj√∏r eller stopp
    if driving:
        if ultralyd_sensor.distance() < 300:
            # Hindring oppdaget - stopp umiddelbart
            venstre_motor.stop()
            hoyre_motor.stop()
            wait(100)
            
            # Sving 90 grader til venstre (h√∏yre motor fremover, venstre motor bakover)
            venstre_motor.run_time(-600, 800)  # Venstre motor bakover - √∏kt tid for 90 grader
            hoyre_motor.run_time(600, 800)     # H√∏yre motor fremover - √∏kt tid for 90 grader
            wait(900)  # Vent til svingen er ferdig
            
            
            # N√• er veien fri - fortsett fremover
            
        else:
            # Kj√∏r rett frem - ingen hindring
            venstre_motor.run(500)
            hoyre_motor.run(500)
    else:
        # Stopp motorene n√•r ikke i kj√∏remodus
        venstre_motor.stop()
        hoyre_motor.stop()

    
    wait(50)
                    </code></pre>
                </div>
                <div id="oppgave2-refleksjon" class="sub-tab-content">
                    <p>Her kan du skrive din refleksjon for Oppgave 2.</p>
                </div>
            </article>

            <!-- Oppgave 3 -->
            <article class="section-box" id="oppgave3-container">
                <h3>Oppgave 3</h3>
                <div class="sub-tabs">
                    <div class="sub-tab active" onclick="openSubTab(event, 'oppgave3-beskrivelse')">Beskrivelse</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave3-kode')">Kode</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave3-refleksjon')">Refleksjon</div>
                </div>

                <div id="oppgave3-beskrivelse" class="sub-tab-content active">
                    <h4>Oppgavebeskrivelse</h4>
                    <p>Mens roboten deres vikarierer for Bernt skal den √•rlige robot-revyen avholdes p√• Gj√∏vik. Bernt lurer derfor p√• om du kan steppe inn og ta underholdningen han pleier √• gj√∏re. Bernt pleier √• kj√∏re rundt i en liten firkant. Firkanten er markert med en svart strek (15 mm bred) og har avrundede hj√∏rner, s√• dere m√• bruke fargesensoren til √• f√∏lge etter denne streken. Dere skal til √• kj√∏re mot klokka.</p>
                    <p>Mens roboten deres kj√∏rer langs banen skal den stoppe hvert tiende sekund og underholde publikum. Dere kan selv velge hva dere har lyst til √• gj√∏re p√• disse stoppene, det kan v√¶re alt fra √• spille av lyd fra h√∏yttaleren til roboten til √• f√• den til √• danse. Dere m√• implementere minst fire forskjellige underholdnings-bidrag, men ved hvert stopp skal det velges tilfeldig hvilket roboten deres faktisk utf√∏rer.</p>
                    <p>N√•r underholdningsnummeret til roboten deres n√¶rmer seg slutten kommer det til √•, p√• magisk vis, dukke opp en hindring foran den p√• banen. Roboten deres skal stoppe 5 - 20 cm fra denne hindringen, og spille av enten lyden ¬´CHEERING¬ª eller ¬´FANFARE¬ª.</p>
                </div>

                <div id="oppgave3-kode" class="sub-tab-content">
                    <a href="EV3Tasks/code/oppgave3.py" download class="btn-download">üì• Last ned filen</a>
                    <pre><code>
#!/usr/bin/env pybricks-micropython
from pybricks.hubs import EV3Brick
from pybricks.ev3devices import (Motor, TouchSensor, ColorSensor,
                                 InfraredSensor, UltrasonicSensor, GyroSensor)
from pybricks.parameters import Port, Stop, Direction, Button, Color
from pybricks.tools import wait, StopWatch, DataLog
from pybricks.robotics import DriveBase
from pybricks.media.ev3dev import SoundFile, ImageFile
import random
# Initialiser EV3-brikken (hovedenhenten til roboten) 
hjernen = EV3Brick()

# Initialiser motorene p√• port B og C (venstre og h√∏yre hjul)
venstre_motor = Motor(Port.A)
hoyre_motor = Motor(Port.D)

#kommand for √• styre b√•de h√∏yre og venstre motor som 'robot', m√• ha st√∏rrelse og avstand mellom hjul i tilegg.
robot = DriveBase(hoyre_motor, venstre_motor, wheel_diameter=56, axle_track=114)

#sensorene
farge_sensor = ColorSensor(Port.S1)
ultra = UltrasonicSensor(Port.S3)

#definerer 'klokke' for √• holde styr p√• tid 
klokke = StopWatch()

#tilfeldig ting roboten gj√∏r for √• 'underholde'
moro = [
    lambda: hjernen.speaker.play_file(SoundFile.HELLO),
    lambda: hjernen.speaker.play_file(SoundFile.HORN_1),
    lambda: hjernen.speaker.play_file(SoundFile.MAGIC_WAND),
    lambda: hjernen.screen.print("Hei der!"),
]

while True:
    # Eksempel p√• enkel linjef√∏lger
    if farge_sensor.reflection() < 20: # m√∏rkt underlag, d√•rlig refleksjon/lys 
        venstre_motor.run(200)
        hoyre_motor.run(100)
    else:
        venstre_motor.run(50)
        hoyre_motor.run(300)                                                                     

    #Klokke for √• underholde hvert 10 sekund
    if klokke.time() > 10000: # 10 sekunder
        robot.stop()
        random.choice(moro)() # velger en tilfeldig funksjon fra 'moro' listen og kj√∏rer den
        wait(1000)
        klokke.reset()

    #Stopper robot da hinderet er n√¶rmere enn 10 cm, og spiller av 'cheering' lyd
    if ultra.distance() < 100:  # 10 cm
        robot.stop()
        hjernen.speaker.play_file(SoundFile.CHEERING)
        wait(1000)
        break

    #funksjon for √• stoppe programmet utenom √• bruke hinderen (i tilf√∏lge noe g√•r galt)
    if Button.CENTER in hjernen.buttons.pressed():
        break
                    </code></pre>
                </div>
                <div id="oppgave3-refleksjon" class="sub-tab-content">
                    <p>Her kan du skrive din refleksjon for Oppgave 3.</p>
                </div>
            </article>

            <!-- Oppgave 4 -->
            <article class="section-box" id="oppgave4-container">
                <h3>Oppgave 4</h3>
                <div class="sub-tabs">
                    <div class="sub-tab active" onclick="openSubTab(event, 'oppgave4-beskrivelse')">Beskrivelse</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave4-kode')">Kode</div>
                    <div class="sub-tab" onclick="openSubTab(event, 'oppgave4-refleksjon')">Refleksjon</div>
                </div>

                <div id="oppgave4-beskrivelse" class="sub-tab-content active">
                    <h4>Oppgavebeskrivelse</h4>
                    <p>Det er p√• tide √• bruke det dere har l√¶rt hittil i faget til √• bevise at deres lego-robot er Gj√∏viks beste. Roboten deres skal n√• f√∏lge en oppmerket bane av samme type som i forrige √∏ving, men denne gangen er banen mer kompleks. I tillegg skal dere konkurrere mot andre grupper sin robot. Siden dere ikke har fullf√∏rt Exphil enda har dere lov til √• programmere roboten deres slik at den kan sabotere for motstandernes robot under konkurransen. Dette betyr selvsagt at deres robot ogs√• kan bli utsatt for sabotasje. Dette, kombinert med den mer krevende banen, gj√∏r at det er viktig √• fokusere p√• robusthet og testing i denne √∏vingen.</p>
                    <p>Banen vil, som i forrige √∏ving, best√• av en svart strek (15 mm bred) p√• hvit bakgrunn. Det vil v√¶re minst 10 cm fra ytterste del av banen til kanten av papiret banen er printet p√•. Banen best√•r av to filer, og det vil v√¶re et krysningspunkt mellom filene slik at de to robotene som kj√∏rer mot hverandre har samme kj√∏rebane. Alts√• vil begge robotene kj√∏re b√•de innerste og ytterste bane √©n gang, og kj√∏re krysset to ganger. Det vil v√¶re 20 cm mellom de to filene, unntaket er selvsagt i og n√¶r krysningspunktet.</p>
                </div>

                <div id="oppgave4-kode" class="sub-tab-content">
                    <a href="EV3Tasks/code/oppgave4.py" download class="btn-download">üì• Last ned filen</a>
                    <pre><code>
#!/usr/bin/env pybricks-micropython
from pybricks.hubs import EV3Brick
from pybricks.ev3devices import (Motor, TouchSensor, ColorSensor,
                                 InfraredSensor, UltrasonicSensor, GyroSensor)
from pybricks.parameters import Port, Stop, Direction, Button, Color
from pybricks.tools import wait, StopWatch, DataLog
from pybricks.robotics import DriveBase
from pybricks.media.ev3dev import SoundFile, ImageFile


 
#Creating our variables
ev3 = EV3Brick()

left_motor = Motor(Port.D)
left_sensor = ColorSensor(Port.S1).color()

right_motor = Motor(Port.D)
right_sensor = ColorSensor(Port.S4).color()
program = True
SPEED = 300
SWING_SPEED = 50

driving_left = False
driving_right = False
came_back = True


#Functions
def Drive(): #This function drives the machine
    global driving_left
    global driving_right

    if left_sensor == Color.BLACK and right_sensor == Color.WHITE: # left sees black, right sees white (too far to the right)
        came_back = False
        driving_left = True
        right_motor.run(SPEED)
        left_motor.run(SWING_SPEED)
        if right_sensor == Color.WHITE and left_sensor == Color.WHITE:
            came_back = True
            driving_left = False
    elif right_sensor == Color.BLACK and left_sensor == Color.WHITE: # right sees black, left sees white (too far to the left)
        came_back = False
        driving_right = True
        right_motor.run(SWING_SPEED)
        left_motor.run(SPEED)
        if right_sensor == Color.WHITE and left_sensor == Color.WHITE:
            came_back = True
            driving_right = False
    elif left_sensor == Color.RED or right_sensor == Color.RED: # if either sensor sees red
        ...
    else: #Then the only other thing that can happen is if the robot is in line, so both sensors see white
        if came_back:
            right_motor.run(SPEED)
            left_motor.run(SPEED)
            ev3.screen.print("Forward")
        else:
            if driving_left:
                ev3.screen.print("You went too far out left")
                ev3.speaker.say("You went too far out left")
            elif driving_right:
                ev3.screen.print("You went too far out right")
                ev3.speaker.say("You went too far out right")
            else:
                ev3.screen.print("Logic error")
                ev3.speaker.say("Logic errort")
            


while program: #while our program is true
    wait(2000) #Waits 2 seconds before starting
    Drive()
                    </code></pre>
                </div>
                <div id="oppgave4-refleksjon" class="sub-tab-content">
                    <p>Her kan du skrive din refleksjon for Oppgave 4.</p>
                </div>
            </article>
        </div>

        <!-- LEXO ARM TAB -->
        <div id="lexo" class="tab-content">
            <h2>LEXO Arm</h2>
            
            <article class="section-box">
                <h3>Kode (main.py)</h3>
                <a href="Lexoarm/main.py" download class="btn-download">üì• Last ned main.py</a>
                <pre><code>
#!/usr/bin/env pybricks-micropython
from pybricks.hubs import EV3Brick
from pybricks.ev3devices import Motor, TouchSensor  # Legger til TouchSensor
from pybricks.parameters import Port, Stop, Button
from pybricks.tools import wait

# Opprett EV3 og motorer
ev3 = EV3Brick()

# Oppretter motorene p√• port A og B
motor1 = Motor(Port.A)
motor2 = Motor(Port.B)

# Oppretter touchSensorer p√• port S1 og S2
ned_sensor = TouchSensor(Port.S1)   # Kj√∏r opp / utover
opp_sensor = TouchSensor(Port.S2)   # Kj√∏r ned / innover

# Definerer Hastigheter
RASK = 120    # Hastighet for Konsentrisk (rask innover)
SAKTE = 120   # Hastighet for Eksentrisk (sakte utover)

# Funksjon som stopper begge motorene og holder posisjonen
def stopp():
    motor1.stop(Stop.HOLD)
    motor2.stop(Stop.HOLD)

# Funksjon som kj√∏rer motorene innover (negativ hastighet)
def kjor_innover():
    motor1.run(-RASK)
    motor2.run(-RASK) 

# Funksjon som kj√∏rer motorene utover (positiv hastighet)
def kjor_utover():
    motor1.run(SAKTE)
    motor2.run(SAKTE)

# Hovedprogram
# Skriver instruksjoner p√• EV3-skjermen Hovedprogram
ev3.screen.print("Trykk knappen r√∏d for √• kj√∏re inn")
ev3.screen.print("Trykk knappen gr√∏nn for √• kj√∏re ut")

# Hovedl√∏kka som kj√∏rer kontinuerlig
while True:
    
    # Hvis ned-sensoren trykkes ‚Üí kj√∏r motorene innover
    if ned_sensor.pressed():
        ev3.screen.print("Kj√∏rer INN")
        kjor_innover()

     # Hvis opp-sensoren trykkes ‚Üí kj√∏r motorene utover
    elif opp_sensor.pressed():
        ev3.screen.print("Kj√∏rer UT")
        kjor_utover()
    
    # Hvis ingen sensor trykkes ‚Üí stopp motorene
    else:
        stopp()

    # Liten pause for √• unng√• overbelastning av prosessoren
    wait(10)
                </code></pre>
            </article>

            <article class="section-box">
                <h3>Dokumentasjon</h3>
                <p>Her finner du rapport, presentasjon og refleksjonsnotat.</p>
                <ul style="list-style: none; padding: 0;">
                    <li><a href="Lexoarm/Teambasert_endeligVurdering.pdf" target="_blank" class="btn-download btn-link">üìÑ √Öpne Rapport (PDF)</a></li>
                    <li style="margin-top: 10px;"><a href="Lexoarm/LEXOARM-Presentasjon.pdf" target="_blank" class="btn-download btn-link">üìä √Öpne Presentasjon (PDF)</a></li>
                    <li style="margin-top: 10px;"><a href="Lexoarm/refleksjon.pdf" target="_blank" class="btn-download btn-link">üìù √Öpne Refleksjon (PDF)</a></li>
                </ul>
            </article>
        </div>

        <!-- DATAARKITEKTUR TAB -->
        <div id="data" class="tab-content">
            <h2>Dataarkitektur</h2>
            
            <article class="section-box">
                <h3>Rapport</h3>
                <p>Rapporten er tilgjengelig som PDF.</p>
                <a href="Dataarkitektur/Rapport%20SSD%20(1).pdf" target="_blank" class="btn-download btn-link">üìÑ √Öpne Rapport (PDF)</a>
            </article>

            <article class="section-box">
                <h3>Presentasjon</h3>
                <p>PowerPoint-filer m√• lastes ned for √• vises.</p>
                <a href="Dataarkitektur/datamaskinArkitektur oppg.pptx" download class="btn-download">üì• Last ned Presentasjon (PPTX)</a>
            </article>
        </div>
    </main>

    <footer>
        <p>¬© 2025 Chris Mulunda Mpinda</p>
    </footer>

    <script>
        // Main Tabs Logic
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // Sub-tabs Logic (for Code/Reflection)
        function openSubTab(evt, subTabName) {
            // Finn containeren (article) som knappen tilh√∏rer
            var container = evt.currentTarget.closest('.section-box');
            
            // Skjul alle sub-tab-content i denne containeren
            var subContents = container.getElementsByClassName("sub-tab-content");
            for (var i = 0; i < subContents.length; i++) {
                subContents[i].style.display = "none";
                subContents[i].classList.remove("active");
            }

            // Fjern active-klassen fra alle sub-tabs i denne containeren
            var subTabs = container.getElementsByClassName("sub-tab");
            for (var i = 0; i < subTabs.length; i++) {
                subTabs[i].className = subTabs[i].className.replace(" active", "");
            }

            // Vis den valgte sub-taben og legg til active-klassen p√• knappen
            document.getElementById(subTabName).style.display = "block";
            document.getElementById(subTabName).classList.add("active");
            evt.currentTarget.className += " active";
        }
    </script>

</body>
</html>